{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { Button, Card, Col, Row } from \"reactstrap\";\nimport fetch from \"../lib/fetch\";\nimport { formatPrice } from \"../lib/helpers\";\nimport invoice from \"../pages/api/invoice\";\nimport useSWR from \"swr\";\n\nconst Invoice = () => {\n  const {\n    data,\n    error\n  } = useSWR(`${process.env.baseUrl}api/invoice`, fetch);\n  const tax = 15;\n\n  const getSubTotal = () => data ? data.items.reduce((sum, item) => sum + item.quantity * item.price, 0) : 0;\n\n  const getCalculatedTax = () => tax * getSubTotal() / 100;\n\n  const getTotal = () => getSubTotal() + getCalculatedTax();\n\n  if (error) return __jsx(\"div\", null, \"Failed to load media data\");\n  if (!data) return __jsx(\"div\", null, \"Loading...\");\n  return __jsx(Row, null, __jsx(Col, {\n    md: {\n      size: 10,\n      offset: 1\n    },\n    className: \"m-auto\"\n  }, __jsx(\"div\", {\n    className: \"text-monospace\"\n  }, __jsx(Card, null, __jsx(\"div\", {\n    className: \"bg-dark text-light rounded-top p-5\"\n  }, __jsx(\"div\", {\n    className: \"p-5\"\n  }, __jsx(\"h1\", {\n    className: \"font-weight-bold\"\n  }, data.receiver.company), __jsx(\"div\", {\n    className: \"d-md-flex\"\n  }, __jsx(\"div\", {\n    className: \"mr-auto\"\n  }, __jsx(\"ul\", {\n    className: \"list-unstyled\"\n  }, __jsx(\"li\", null, data.receiver.name), __jsx(\"li\", null, data.receiver.email)), __jsx(\"ul\", {\n    className: \"list-unstyled\"\n  }, __jsx(\"li\", null, data.receiver.location.street.number, \" \", data.receiver.location.street.name), __jsx(\"li\", null, data.receiver.location.city), __jsx(\"li\", null, data.receiver.location.state), __jsx(\"li\", null, data.receiver.location.country), __jsx(\"li\", null, data.receiver.location.postcode)), __jsx(\"ul\", {\n    className: \"list-unstyled\"\n  }, __jsx(\"li\", null, \"Invoice #\", data.id), __jsx(\"li\", null, data.createdAt))), __jsx(\"div\", {\n    className: \"text-right\"\n  }, __jsx(\"ul\", {\n    className: \"list-unstyled\"\n  }, __jsx(\"li\", null, data.sender.company), __jsx(\"li\", null, data.sender.name), __jsx(\"li\", null, data.sender.email)), __jsx(\"ul\", {\n    className: \"list-unstyled\"\n  }, __jsx(\"li\", null, data.sender.location.street.number, \" \", data.sender.location.street.name), __jsx(\"li\", null, data.sender.location.city), __jsx(\"li\", null, data.sender.location.state), __jsx(\"li\", null, data.sender.location.country), __jsx(\"li\", null, data.sender.location.postcode)))))), __jsx(\"div\", {\n    className: \"rounded-bottom p-5\"\n  }, __jsx(\"div\", {\n    className: \"p-5\"\n  }, __jsx(\"div\", {\n    className: \"d-flex py-2 text-muted  border-bottom border-top align-items-center border-light\"\n  }, __jsx(\"div\", {\n    className: \"mr-auto\"\n  }, __jsx(\"small\", null, \"Description\")), __jsx(\"div\", {\n    className: \"text-right\"\n  }, __jsx(\"small\", null, \"Amount\"))), data.items.map((item, index) => __jsx(\"div\", {\n    className: \"d-flex py-4 border-bottom align-items-center border-light\",\n    key: index\n  }, __jsx(\"div\", {\n    className: \"mr-auto\"\n  }, __jsx(\"span\", null, item.title), __jsx(\"small\", {\n    className: \"d-block text-muted\"\n  }, item.subtitle, item.quantity && __jsx(\"span\", null, \"\\xA0*\\xA0\", item.quantity))), __jsx(\"div\", {\n    className: \"text-right\"\n  }, __jsx(\"span\", null, formatPrice(item.price * item.quantity))))), __jsx(\"div\", {\n    className: \"d-flex\"\n  }, __jsx(\"div\", {\n    className: \"d-block ml-auto w-100\",\n    style: {\n      maxWidth: \"400px\"\n    }\n  }, __jsx(\"div\", {\n    className: \"d-flex py-4 border-bottom border-top align-items-center border-light\"\n  }, __jsx(\"small\", {\n    className: \"mr-auto text-muted\"\n  }, \"Subtotal\"), __jsx(\"span\", {\n    className: \"text-right\"\n  }, formatPrice(getSubTotal()))), __jsx(\"div\", {\n    className: \"d-flex py-4 border-bottom border-top align-items-center border-light\"\n  }, __jsx(\"small\", {\n    className: \"mr-auto text-muted\"\n  }, \"Tax\"), __jsx(\"span\", null, __jsx(\"small\", {\n    className: \"text-muted\"\n  }, \"@ \", tax, \"% - \"), __jsx(\"span\", null, formatPrice(getCalculatedTax())))), __jsx(\"div\", {\n    className: \"d-flex py-4 border-bottom border-top align-items-center border-light\"\n  }, __jsx(\"small\", {\n    className: \"mr-auto text-muted\"\n  }, \"Discount\"), __jsx(\"span\", null, __jsx(\"small\", {\n    className: \"text-muted\"\n  }, \"0% off - \"), __jsx(\"span\", null, formatPrice(0)))), __jsx(\"div\", {\n    className: \"d-flex py-4 border-bottom border-top align-items-center border-primary\"\n  }, __jsx(\"small\", {\n    className: \"mr-auto text-muted\"\n  }, \"Total\"), __jsx(\"strong\", null, formatPrice(getTotal())))))))), __jsx(\"div\", {\n    className: \"my-5 text-center\"\n  }, __jsx(Button, {\n    color: \"primary\",\n    className: \"py-2 px-4 mx-2\"\n  }, \"Pay Now\"), __jsx(Button, {\n    color: \"danger\",\n    className: \"py-2 px-4 mx-2\"\n  }, \"Cancel\")))));\n};\n\nexport default Invoice;","map":null,"metadata":{},"sourceType":"module"}